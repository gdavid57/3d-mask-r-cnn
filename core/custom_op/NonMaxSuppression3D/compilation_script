TF_CFLAGS=( $(python -c 'import tensorflow as tf; print(" ".join(tf.sysconfig.get_compile_flags()))') )
TF_LFLAGS=( $(python -c 'import tensorflow as tf; print(" ".join(tf.sysconfig.get_link_flags()))') )
echo NVCC
nvcc -std=c++14 -c -o non_max_suppression_3d_op.cu.o non_max_suppression_3d_op.cu.cc ${TF_CFLAGS[@]} -D GOOGLE_CUDA=1 -x cu -Xcompiler -fPIC --expt-relaxed-constexpr
echo GPP
g++ -std=c++14 -shared -o non_max_suppression_3d_op.so non_max_suppression_3d_op.cc non_max_suppression_3d_op.cu.o ${TF_CFLAGS[@]} -fPIC -lcudart ${TF_LFLAGS[@]} -L /usr/local/cuda-10.2/lib64/
echo Copy .so files in ../
cp *.so ../
